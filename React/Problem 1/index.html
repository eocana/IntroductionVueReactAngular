
<script src="https://unpkg.com/react@15/dist/react.js"></script>
<script src="https://unpkg.com/react-dom@15/dist/react-dom.js"></script>

<div id="app"></div>

<!-- 
	Exercise like Problem 1 of Vue.js
	
  1) Create a <div> and render a base component with React
  2) Output an array of hobbies in this <div> (provide some default hobbies)
  3) Add a 'New Hobby' button + <input> field where you add the hobby the user entered to the list
  4) Make the hobbies clickable to remove them once clicked
  5) Add a <p>Hobby deleted!</p> which is only shown once at least one hobby was deleted (be creative on how to track this!)
  6) Add a hobby counter (<p>Hobbies: ...</p>) above the list of hobbies
  7) Dynamically style/ add classes to the hobby counter, depending on whether you have more or less than 3 hobbies
  8) Outsource your hobbies (the <li> elements) into a re-usable component
-->
<style>
  .multiple-hobbies {
    border: 1px solid red;
  }
</style>
<script>
function Hobby(props){
	return (<li  onClick= { () => { props.hobbyClick(props.hobbyIndex) } }>{props.hobbyName}</li>);
}

class App extends React.Component {
	
   constructor(props){
      super(props);
      this.state = {
        hobbies:['Basket','Gaming','Party'],
        message: 'Mi list of hobbies: ',
        newHobbyInput: '',
        infoDel: false
      };
   }

  
  removeHobby(index){
  	const oldHobbies = this.state.hobbies;
  	
    this.setState(
    	{
      	hobbies: oldHobbies.filter(
        	(hb,i) => { return i != index}
        ),
        infoDel: true
      }
    );
  	
  }
  
  addHobby(){
  	if(this.state.newHobbyInput != ''){
    	const oldHobbies = this.state.hobbies;

      this.setState({
        hobbies: oldHobbies.concat(this.state.newHobbyInput)
      });

      this.state.newHobbyInput = '';
      this.state.infoDel = false;
    
    }else{
    	alert('Insert a hobby');
    }
  	
  
  }
  changeHobbyInput(event){
  
  	this.setState({
    	newHobbyInput: event.target.value
    });
    
    
  }
  
    
  render() {
  
  	let listHobbies = this.state.hobbies.map(
      (hobby, index) => {
        return <Hobby
                key={index}
                hobbyIndex={index}
                hobbyName={hobby}
                hobbyClick={this.removeHobby.bind(this)}/>
        //<li key={index} onClick={() => this.removeHobby(index)}>{hobby}</li>;
      }
  	);
    
    let hobbyDeletedPara = '';
  	
    if(this.state.infoDel){
    
    	hobbyDeletedPara = <p>Hobby was deleted</p>;
      
    }else{
    	hobbyDeletedPara = '';
    }
    
    let hobbyCounterStyle = {
    	color: this.state.hobbies.length > 3 ? 'red' : 'black'
    }
    
    const hobbyCounterClass = this.state.hobbies.length > 3 ? 'multiple-hobbies' : ''
    
  	return(
    	<div>
    	  <p style={hobbyCounterStyle} className={hobbyCounterClass}>{this.state.message +' '+ this.state.hobbies.length}</p>
        
        <input 
          type='text' 
          value={this.state.newHobbyInput}
          onChange={this.changeHobbyInput.bind(this)}>
        </input>
        <button onClick={this.addHobby.bind(this)}>Add hobby</button>
        {hobbyDeletedPara}
        
        <ul>{listHobbies}</ul>
        
    	</div>
    );
  }
}

ReactDOM.render(<App/>, document.querySelector("#app"))

</script>